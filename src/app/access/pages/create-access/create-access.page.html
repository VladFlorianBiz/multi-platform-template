<!------------------------------------------------------------------------------------------------------------>
<!-- Page Content(similar to <body> check out index.html to see structure) ----------------------------------->
<ion-content scrollbarStyle
             fullscreen="true"
             scrollX="false">

  <!--------------------------------------------------->
  <!-- ion-header ------------------------------------->
  <ion-header slot="fixed"
              style="align-self: start;"
              class=" ion-no-border" 
              [class.hideNavBarFlag]="hideNavBarFlag">
    <div class="header-container"
         style="background: rgb(255 255 255 / 50%); margin-left: 5rem;">
      <!-- ion-toolbar -------------------------------->
      <ion-toolbar style="max-width: 1080px; margin: 0 auto;  --background: transparent !important;">
        <!-- Button wrapper on left of header --->
        <ion-buttons slot="secondary">
          <ion-fab-button (click)="goBack()"
                          class="back-btn"
                          size="small"
                          mode="ios">
            <ion-icon name="arrow-back">
            </ion-icon>
          </ion-fab-button>
        </ion-buttons>

        <!-- Page Title ------------------------------->
        <ion-title class="page-title text-align-center"
                   color="primary">
          Create Access
        </ion-title>


      </ion-toolbar>
    </div>
  </ion-header>


  <!---------------------------------------------------------------------------------------------------------->
  <!-- Page Form Container ----------------------------------------------------------------------------------->
  <form style="all: revert;"
        [formGroup]="formObj"
        novalidate>

    <!-------------------------------------------------------------------------------------------------------->
    <!-- Container for page content adds margin based on side menu ------------------------------------------->
    <main #scrollArea
          style="margin-top: 8rem;">

      <ion-row class="no-top-bottom-padding max-width-550 ion-justify-content-center">
        <ion-col size="12">

          <ion-card>
            <ion-row class="ion-justify-content-center">
              <svg width="100"
                   height="100"
                   viewBox="0 0 100 100"
                   xmlns="http://www.w3.org/2000/svg">
                <circle cx="50"
                        cy="50"
                        r="45"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="5" />
                <path d="M35,35 Q45,20 55,35 L55,65 Q45,80 35,65 Z"
                      fill="currentColor" />
                <circle cx="50"
                        cy="50"
                        r="20"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2" />
                <g transform="rotate(45,50,50)">
                  <rect x="46"
                        y="26"
                        width="8"
                        height="18"
                        rx="2"
                        ry="2"
                        fill="currentColor" />
                  <rect x="46"
                        y="56"
                        width="8"
                        height="18"
                        rx="2"
                        ry="2"
                        fill="currentColor" />
                  <rect x="26"
                        y="46"
                        width="18"
                        height="8"
                        rx="2"
                        ry="2"
                        fill="currentColor" />
                  <rect x="56"
                        y="46"
                        width="18"
                        height="8"
                        rx="2"
                        ry="2"
                        fill="currentColor" />
                </g>
              </svg>
            </ion-row>
            <ion-card-header>
              <ion-card-title class="ion-text-center"
                              style="text-transform: capitalize; font-size: 1rem;">Grant Admin Privileges</ion-card-title>
              <ion-card-subtitle class="ion-text-center"
                                 style="text-transform: capitalize;"></ion-card-subtitle>
            </ion-card-header>
            <ion-card-content class="ion-text-center">


              <ion-note>Invite super admin users to allow them to manage the admin configurations of this application
              </ion-note>
            </ion-card-content>
          </ion-card>

        </ion-col>
      </ion-row>



      <!-- Email Input Row -------------------------------------------------------------------------------->
      <!-- Input Row --------------------------------------------------------------------------------->
      <ion-row class="no-top-bottom-padding max-width-550 ion-justify-content-center">
        <ion-col size="12">
          <!------------------------------------------------------------------------------------------>
          <ion-item [ngClass]="{'errorItem': !formObj.controls['email'].valid && inputTouchedOnce.email}"
                    class="input-container"
                    lines="inset"
                    mode="md">
            <!-- Label Container ------------------------------------------------------>
            <ion-label position="floating">
              <!-- Label -------------------------------------------------------------->
              <span *ngIf="!(!formObj.controls['email'].valid && inputTouchedOnce.email)">
                Email*
              </span>
              <!-- On error replace form label with error message ------------------->
              <span *ngIf="!formObj.controls['email'].valid && inputTouchedOnce.email">
                Input a valid email
              </span>
            </ion-label>
            <!-- Form Input --------------------------->
            <ion-input legacy="true"  (ionBlur)="onInputBlur('email')"
                       type="text"
                       formControlName="email">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      


      <ion-row  class="no-top-bottom-padding max-width-550 ion-justify-content-center">
        <ion-col size="12">
          <ion-item class="input-container-label-only"
                    lines="none"
                    mode="md">
            <ion-label style="font-size: 16px;
                                    font-weight: 700;
                                    color: var(--ion-color-primary);
                                    margin-bottom: 0;">
             Admin Permissions
            </ion-label>
          </ion-item>

          <ion-item class="input-container"
                    lines="inset"
                    mode="md">
            <div class="ion-text-left"
                 class="ion-align-content-center">
              <ion-text (click)="onCheckboxSelectionMulti(permission)"
                        style=" cursor: pointer;   font-size: 17px; display: flex; align-items: center;"
                        *ngFor=" let permission of accessPermissionOptionsArray">
                <ion-checkbox legacy="true"  mode="ios"
                              style=" width: auto; margin-right: 8px;"
                              
                              [checked]="formObj.value.permissions.includes(permission)"
                              class="ion-align-self-start"></ion-checkbox> <span style="margin-right: 8px; color: var(--ion-color-primary);
                                                   font-size: 17px; font-weight: 500 !important;">{{permission}} </span> <br>
              </ion-text>
            </div>
          </ion-item>
        </ion-col>
      </ion-row>


      <!-- Call To Action Button Row ------------------------------------->
      <ion-row *ngIf="!isMobileView"
               style="margin-top: 2vmax; margin-bottom: 4vmax;"
               class="max-width-550 ion-justify-content-center">
        <ion-col size="12">
          <ion-button expand="block"
                      color="primary"
                      (click)="onSubmitForm()">
            <ion-icon name="add"
                      slot="start"></ion-icon>
            Invite User
          </ion-button>
        </ion-col>
      </ion-row>

      <ion-footer *ngIf="isMobileView"
                  style=" position: fixed; bottom: 0; width: 100%; z-index: 999;"
                  class="ion-align-self-end ion-no-border">
        <div class="footer-container">
          <ion-toolbar style="  --background: transparent !important;">
            <ion-row class="no-top-bottom-padding max-width-550 ion-justify-content-center">
              <ion-col size="12">

                <ion-button expand="block"
                            color="primary"
                            (click)="onSubmitForm()">
                  <ion-icon name="add"
                            slot="start"></ion-icon>
                 Invite User
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-toolbar>
        </div>
      </ion-footer>


    </main>
  </form>
</ion-content>
